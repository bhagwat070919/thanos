<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content=noodp><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css integrity=sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href=https://improbable-eng.github.io/thanos/main.css><link rel=stylesheet href=https://improbable-eng.github.io/thanos/syntax.css><link rel=icon href=https://improbable-eng.github.io/thanos/icon-light.png><title>Thanos - Highly available Prometheus setup with long term storage capabilities</title><meta property=og:image content=/icon-light.png><meta property=og:type content=object><meta property=og:title content=Thanos><meta property=og:description content="Thanos - Highly available Prometheus setup with long term storage capabilities"></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-purple"><a href=https://improbable-eng.github.io/thanos/ class=navbar-brand><img src=https://improbable-eng.github.io/thanos/icon-dark.png alt="Thanos logo"> Thanos</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://improbable-eng.github.io/thanos/getting-started.md>Documentation</a></li><li class=nav-item><a class=nav-link href=https://github.com/improbable-eng/thanos/releases>Download</a></li><li class=nav-item><a href=https://github.com/improbable-eng/thanos class=nav-link><i class="fab fa-fw fa-github"></i>GitHub</a></li><li class=nav-item><a href=https://twitter.com/ThanosMetrics class=nav-link><i class="fab fa-fw fa-twitter"></i>Twitter</a></li></ul></div></nav><div class=container><div class="row py-3 py-lg-5"><div class="col-12 col-lg-3"><button class="btn btn-block btn-outline-secondary mb-3 d-block d-lg-none" type=button data-toggle=collapse data-target=.docs-menu>
Toggle Menu</button><nav class="docs-menu collapse d-lg-block"><h5>Thanos</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/getting-started.md/>&nbsp;&nbsp;&nbsp;&nbsp;Getting Started</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/changelog/>&nbsp;&nbsp;&nbsp;&nbsp;Changelog</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/design.md/>&nbsp;&nbsp;&nbsp;&nbsp;Design</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/storage.md/>&nbsp;&nbsp;&nbsp;&nbsp;Object Storage</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/service-discovery.md/>&nbsp;&nbsp;&nbsp;&nbsp;Service Discovery</a></div><h5 class=mt-3>Components</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/components/bucket.md/>&nbsp;&nbsp;&nbsp;&nbsp;Bucket</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/components/compact.md/>&nbsp;&nbsp;&nbsp;&nbsp;Compact</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/components/query.md/>&nbsp;&nbsp;&nbsp;&nbsp;Query</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/components/rule.md/>&nbsp;&nbsp;&nbsp;&nbsp;Rule</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/components/sidecar.md/>&nbsp;&nbsp;&nbsp;&nbsp;Sidecar</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/components/store.md/>&nbsp;&nbsp;&nbsp;&nbsp;Store</a></div><h5 class=mt-3>Contributing</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/code_of_conduct/>&nbsp;&nbsp;&nbsp;&nbsp;Code of Conduct</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/contributing/how-to-contribute-to-docs.md/>&nbsp;&nbsp;&nbsp;&nbsp;Contribute to docs</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/contributing/>&nbsp;&nbsp;&nbsp;&nbsp;Contributing</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/contributing/dev.md/>&nbsp;&nbsp;&nbsp;&nbsp;Troubleshooting for dev workflow</a></div><h5 class=mt-3>Proposals</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/proposals/201809_gossip-removal.md/>&nbsp;&nbsp;&nbsp;&nbsp;Deprecated gossip clustering in favor of File SD</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/proposals/201807_store_instance_high_availability.md/>&nbsp;&nbsp;&nbsp;&nbsp;High-availability for store instances</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/proposals/201901-read-write-operations-bucket.md/>&nbsp;&nbsp;&nbsp;&nbsp;Read-Write coordination free operational contract for object storage</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/proposals/config.md/>&nbsp;&nbsp;&nbsp;&nbsp;Thanos Cluster Configuration</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://improbable-eng.github.io/thanos/proposals/201812_thanos-remote-receive.md/>&nbsp;&nbsp;&nbsp;&nbsp;Thanos Remote Write</a></div></nav></div><div class="col-12 col-lg-9"><h1 id=how-to-contribute-to-docs-website>How to contribute to Docs/Website</h1><p><code>./docs</code> directory is used as markdown source files using <a href=https://github.com/russross/blackfriday>blackfriday</a> to render Thanos website resources.</p><p>However the aim for those is to also have those <code>*.md</code> files renderable and usable (including links) via GitHub.</p><p>To make that happen we use following rules and helpers that are listed here</p><h2 id=front-matter>Front Matter</h2><p><a href=https://gohugo.io/content-management/front-matter/>Front Matter</a> is essential on top of every markdown file if
you want to link this file into any menu/submenu option. We use YAML formatting. This will render
in GitHub as markdown just fine:</p><div class=highlight><pre class=chroma><code class=language-md data-lang=md>---<span class=err>
</span><span class=err></span>title: &lt;titke&gt;<span class=err>
</span><span class=err></span>type: ...<span class=err>
</span><span class=err></span>weight: &lt;weight&gt;<span class=err>
</span><span class=err></span>menu: &lt;where to link files in&gt;  <span class=gh>#</span> This also is refered in permalinks.
---</code></pre></div><h2 id=links>Links</h2><p>Aim is to match linking behavior in website being THE SAME as Github. This means:</p><ul><li>For files in Hugo <content>dir (so <code>./docs</code>). Put <code>slug: /&lt;filename with extension&gt;</code></li><li>For any sub dir add to <code>website/hugo.yaml</code> new dir as key <code>permalinks:</code> with <code>&lt;dir&gt;: /&lt;dir&gt;/:filname.md</code></li></ul><p>Then everywhere use native markdown <em>relative</em> symbolic links if you want to reference some mardkown file from <code>docs</code>:</p><p><code>[title](../ relative path to .md file )</code></p><p>Or absolute path to the project repository if you want to link to exact commit e.g:</p><p><code>[title](../ /Makefile )</code></p><p>Small <a href=https://github.com/improbable-eng/thanos/tree/5094e61a0e49841a76b5a5269b8a7f2d99a24fe0/docs/scripts/websitepreprocess.sh>post processing script</a> adjusts link for Hugo rendering.</p><p>NOTE: Spaces matters so: <code>[xxx](../ link</code> and <code>[xxx] (link</code> will not work.</p><p>Why?</p><ul><li>Links works on GitHub</li><li>Links works on website</li><li>Markdown plugins works as expected (e.g IDE integrations)</li><li>We use liche to test links.</li></ul><h2 id=sections-menu>Sections/Menu</h2><p>New menus <code>.Site.Menus</code> are added as soon as some file has Front Matter with certain <code>menu</code>.</p><p>Keep <code>menu</code> the same as sub-directory the file is in. This will help to manage all docs.</p><p>Show new menu section in main page by changing <code>website/layouts/_default/baseof.html</code> file.</p><h2 id=testing>Testing</h2><p>Run <code>make web-serve</code> to serve and preview the website locally.</p><h2 id=deployment>Deployment.</h2><p>Ask maintainer to deploy the page. (<code>GOOGLE_ANALYTICS_TOKEN=&quot;&lt; &gt;&quot; make web-deploy</code>)</p><p>NOTE: It might take couple of seconds to refresh page / CDN for Github pages.</p><h2 id=todo-bwplotka-ci-job-which-does-that-on-every-master-commit>TODO(bwplotka) CI job which does that on every master commit.</h2><p>Found a typo, inconsistency or missing information in our docs?
Help us to improve <a href=https://thanos.io>Thanos</a> documentation by proposing a fix <a href=https://github.com/improbable-eng/thanos/edit/master/contributing/how-to-contribute-to-docs.md>on GitHub here</a> ❤️</p></div></div></div><footer class="bg-dark text-light"><div class="container text-center text-md-left"><div class="row py-5"><div class="col-12 col-md-6 col-lg mb-3 mb-lg-0"><img src=https://improbable-eng.github.io/thanos/icon-dark.png alt=Thanos width=45%></div><div class="col-12 col-md-6 col-lg"><h6 class=font-weight-bold>Documentation</h6><ul class=list-unstyled><li><a class=text-reset href=https://improbable-eng.github.io/thanos/getting-started.md>Getting Started</a></li><li><a class=text-reset href=https://improbable-eng.github.io/thanos/design.md>Design</a></li><li><a class=text-reset href=https://improbable-eng.github.io/thanos/storage.md>Storage</a></li><li><a class=text-reset href=https://improbable-eng.github.io/thanos/service-discovery.md>Service Discovery</a></li></ul></div><div class="col-12 col-md-6 col-lg"><h6 class=font-weight-bold>Community</h6><ul class=list-unstyled><li><a href=https://join.slack.com/t/improbable-eng/shared_invite/enQtMzQ1ODcyMzQ5MjM4LWY5ZWZmNGM2ODc5MmViNmQ3ZTA3ZTY3NzQwOTBlMTkzZmIxZTIxODk0OWU3YjZhNWVlNDU3MDlkZGViZjhkMjc class=text-reset><i class="fab fa-fw fa-slack"></i>Slack</a></li><li><a href=https://github.com/improbable-eng/thanos class=text-reset><i class="fab fa-fw fa-github"></i>GitHub</a></li><li><a href=https://twitter.com/ThanosMetrics class=text-reset><i class="fab fa-fw fa-twitter"></i>Twitter</a></li></ul></div><div class="col col-md-6 col-lg"><h6 class=font-weight-bold>About</h6><p>Thanos is an OSS licensed project as Apache License 2.0</p></div></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js integrity=sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js integrity=sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-137374921-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>