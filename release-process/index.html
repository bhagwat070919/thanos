<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css integrity=sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href=https://thanos.io/main.css><link rel=stylesheet href=https://thanos.io/syntax.css><link rel=icon href=https://thanos.io/icon-light.png><title>Thanos - Highly available Prometheus setup with long term storage capabilities</title><meta property=og:image content=/icon-light.png><meta property=og:type content=object><meta property=og:title content=Thanos><meta property=og:description content="Thanos - Highly available Prometheus setup with long term storage capabilities"></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-purple"><a href=https://thanos.io/ class=navbar-brand><img src=https://thanos.io/icon-dark.png alt="Thanos logo"> Thanos</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://thanos.io/getting-started.md>Documentation</a></li><li class=nav-item><a class=nav-link href=https://github.com/improbable-eng/thanos/releases>Download</a></li><li class=nav-item><a href=https://github.com/improbable-eng/thanos class=nav-link><i class="fab fa-fw fa-github"></i>GitHub</a></li><li class=nav-item><a href=https://twitter.com/ThanosMetrics class=nav-link><i class="fab fa-fw fa-twitter"></i>Twitter</a></li></ul></div></nav><div class=container><div class="row py-3 py-lg-5"><div class="col-12 col-lg-3"><button class="btn btn-block btn-outline-secondary mb-3 d-block d-lg-none" type=button data-toggle=collapse data-target=.docs-menu>
Toggle Menu</button><nav class="docs-menu collapse d-lg-block"><h5>Thanos</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/getting-started.md/>Getting Started</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/changelog/>Changelog</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/design.md/>Design</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/storage.md/>Object Storage</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/service-discovery.md/>Service Discovery</a></div><h5 class=mt-3>Components</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/components/bucket.md/>Bucket</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/components/compact.md/>Compact</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/components/query.md/>Query</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/components/rule.md/>Rule</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/components/sidecar.md/>Sidecar</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/components/store.md/>Store</a></div><h5 class=mt-3>Contributing</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/code_of_conduct/>Code of Conduct</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/contributing/how-to-contribute-to-docs.md/>Contribute to docs</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/contributing/>Contributing</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/contributing/dev.md/>Troubleshooting for dev workflow</a></div><h5 class=mt-3>Proposals</h5><div class="list-group list-group-flush"><a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/proposals/201809_gossip-removal.md/>Deprecated gossip clustering in favor of File SD</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/proposals/201807_store_instance_high_availability.md/>High-availability for store instances</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/proposals/201901-read-write-operations-bucket.md/>Read-Write coordination free operational contract for object storage</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/proposals/config.md/>Thanos Cluster Configuration</a>
<a class="list-group-item list-group-item-action list-group-item-thanos py-1" href=https://thanos.io/proposals/201812_thanos-remote-receive.md/>Thanos Remote Write</a></div></nav></div><div class="col-12 col-lg-9"><h1 id=for-maintainers-releases>For maintainers: Releases</h1><p>This page describes the release process for Thanos project.</p><p>NOTE: As <a href=http://semver.org/spec/v2.0.0.html>Semantic Versioning</a> states all 0.y.z releases can contain breaking changes in API (flags, grpc API, any backward compatibility)</p><h2 id=cadence>Cadence</h2><p>We aim for <em>at least</em> 1 release per 6 weeks. However, no strict dates are planned.</p><p>No release candidates are required until major version.</p><p>Additionally we aim for <code>master</code> branch being stable.</p><h2 id=cutting-individual-release>Cutting individual release</h2><p>Process of cutting a new <em>minor</em> Thanos release:</p><ol><li>Add PR on branch <code>release-&lt;major&gt;.&lt;minor&gt;</code> that will start minor release branch and prepare changes to cut release.</li><li>Bump <a href=https://github.com/improbable-eng/thanos/tree/7faae79a74af16429f5f46c1968735f9929ef356/docs/VERSION>VERSION file</a></li><li>Update <a href=https://github.com/improbable-eng/thanos/tree/7faae79a74af16429f5f46c1968735f9929ef356/docs/CHANGELOG.md>CHANGELOG file</a></li></ol><p>Note that <code>CHANGELOG.md</code> should only document changes relevant to users of Thanos, including external API changes, performance improvements, and new features. Do not document changes of internal interfaces, code refactorings and clean-ups, changes to the build process, etc. People interested in these are asked to refer to the git history.
Format is described in <code>CHANGELOG.md</code>.</p><ol><li><p>Double check backward compatibility:</p><ol><li><em>In case of version after <code>v1+.y.z</code></em>, double check if none of the changes break API compatibility. This should be done in PR review process, but double check is good to have.</li><li>In case of <code>v0.y.z</code>, document all incompatibilities in changelog.</li></ol></li><li><p>After review, merge the PR and immediately after this tag a version:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>$ <span class=nv>tag</span><span class=o>=</span><span class=k>$(</span>&lt; VERSION<span class=k>)</span>
$ git tag -s <span class=s2>&#34;v</span><span class=si>${</span><span class=nv>tag</span><span class=si>}</span><span class=s2>&#34;</span> -m <span class=s2>&#34;v</span><span class=si>${</span><span class=nv>tag</span><span class=si>}</span><span class=s2>&#34;</span>
$ git push origin <span class=s2>&#34;v</span><span class=si>${</span><span class=nv>tag</span><span class=si>}</span><span class=s2>&#34;</span></code></pre></div><p>Signing a tag with a GPG key is appreciated, but in case you can&rsquo;t add a GPG key to your Github account using the following <a href=https://help.github.com/articles/generating-a-gpg-key/>procedure</a>, you can replace the <code>-s</code> flag by <code>-a</code> flag of the <code>git tag</code> command to only annotate the tag without signing.</p><ol><li><p>Once a tag is created, the release process through CircleCI will be triggered for this tag.</p></li><li><p>You must create a Github Release using the UI for this tag, as otherwise CircleCI will not be able to upload tarballs for this tag. Also, you must create the Github Release using a Github user that has granted access rights to CircleCI. List of maintainers is available <a href=https://github.com/improbable-eng/thanos/tree/7faae79a74af16429f5f46c1968735f9929ef356/docs/MAINTAINERS.md>here</a></p></li><li><p>Go to the releases page of the project, click on the <code>Draft a new release</code> button and select the tag you just pushed. Describe release and post relevant entry from changelog. Click <code>Save draft</code> rather than <code>Publish release</code> at this time. (This will prevent the release being visible before it has got the binaries attached to it.)</p></li><li><p>Once tarballs are published on release page, you can click <code>Publish</code> and release is complete.</p></li><li><p>Announce <code>#thanos</code> slack channel.</p></li></ol></li><li><p>After release create a second PR adding <code>-master</code> <a href=https://github.com/improbable-eng/thanos/tree/7faae79a74af16429f5f46c1968735f9929ef356/docs/VERSION>VERSION file</a> suffix to the end of version. This will ensure master built images will have different version then released one.</p></li></ol><h2 id=branch-management-and-versioning-strategy>Branch management and versioning strategy</h2><p>We use <a href=http://semver.org/>Semantic Versioning</a>.</p><p>NOTE: We have a separate branch for each minor release, named <code>release-&lt;major&gt;.&lt;minor&gt;</code>, e.g. <code>release-0.1</code>, <code>release-0.2</code>. but they are
<em>NOT</em> maintained as we don&rsquo;t have major version yet.</p><h2 id=pre-releases-release-candidates>Pre-releases (release candidates)</h2><p>The following changes to the above procedures apply:</p><ul><li>In line with <a href=http://semver.org/>Semantic Versioning</a>, append something like <code>-rc.0</code> to the version (with the corresponding changes to the tag name, the release name etc.).</li><li>Tick the <code>This is a pre-release</code> box when drafting the release in the Github UI.</li><li>Still update <code>CHANGELOG.md</code>, but when you cut the final release later, merge all the changes from the pre-releases into the one final update.</li></ul><hr><p>Found a typo, inconsistency or missing information in our docs?
Help us to improve <a href=https://thanos.io>Thanos</a> documentation by proposing a fix <a href=https://github.com/improbable-eng/thanos/edit/master/docs/release-process.md>on GitHub here</a> ❤️</p></div></div></div><footer class="bg-dark text-light"><div class="container text-center text-md-left"><div class="row py-5"><div class="col-12 col-md-6 col-lg mb-3 mb-lg-0"><img src=https://thanos.io/icon-dark.png alt=Thanos width=45%></div><div class="col-12 col-md-6 col-lg"><h6 class=font-weight-bold>Documentation</h6><ul class=list-unstyled><li><a class=text-reset href=https://thanos.io/getting-started.md>Getting Started</a></li><li><a class=text-reset href=https://thanos.io/design.md>Design</a></li><li><a class=text-reset href=https://thanos.io/storage.md>Storage</a></li><li><a class=text-reset href=https://thanos.io/service-discovery.md>Service Discovery</a></li></ul></div><div class="col-12 col-md-6 col-lg"><h6 class=font-weight-bold>Community</h6><ul class=list-unstyled><li><a href=https://join.slack.com/t/improbable-eng/shared_invite/enQtMzQ1ODcyMzQ5MjM4LWY5ZWZmNGM2ODc5MmViNmQ3ZTA3ZTY3NzQwOTBlMTkzZmIxZTIxODk0OWU3YjZhNWVlNDU3MDlkZGViZjhkMjc class=text-reset><i class="fab fa-fw fa-slack"></i>Slack</a></li><li><a href=https://github.com/improbable-eng/thanos class=text-reset><i class="fab fa-fw fa-github"></i>GitHub</a></li><li><a href=https://twitter.com/ThanosMetrics class=text-reset><i class="fab fa-fw fa-twitter"></i>Twitter</a></li></ul></div><div class="col col-md-6 col-lg"><h6 class=font-weight-bold>About</h6><p>Thanos is an OSS licensed project as Apache License 2.0</p></div></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js integrity=sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js integrity=sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-137374921-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>